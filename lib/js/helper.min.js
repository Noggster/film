/*
 * Helper JS v0.1
 * Simple vanilla JS offering
 * some common helpers to accompany
 * your vanilla JS:ing. Some is written
 * by jrudenstam but not where other 
 * source is providen, but it might have been improved
 *
 * Author: jrudenstam
 * http://typisktmig.se
 */(function(e,t){typeof define=="function"&&define.amd?define(t):e.helper=t()})(this,function(){return{isNodeList:function(e){var t=Object.prototype.toString.call(e);return typeof e=="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(e.length==0||typeof e[0]=="object"&&e[0].nodeType>0)?!0:!1},getByClass:function(){return document.getElementsByClassName?function(e,t,n){return n?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:function(e,t,n){var r=[],i="*";t==null&&(t=document);var s=t.getElementsByTagName(i),o=s.length,u=new RegExp("(^|\\s)"+e+"(\\s|$)");for(var a=0,f=0;a<o;a++)if(u.test(s[a].className)){if(n)return s[a];r[f]=s[a];f++}return r}}(),getAttribute:function(e,t){var n=e.getAttribute&&e.getAttribute(t)||null;if(!n){var r=e.attributes,i=r.length;for(var s=0;s<i;s++)t[s]!==undefined&&t[s].nodeName===t&&(n=t[s].nodeValue)}return n},hasClass:function(e,t){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";return n.search(t)>-1},addClass:function(e,t){if(!this.hasClass(e,t)){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";n=n+" "+t+" ";n=n.replace(/\s{2,}/g," ");e.setAttribute("class",n)}},removeClass:function(e,t){if(this.hasClass(e,t)){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";n=n.replace(t,"");e.setAttribute("class",n)}},getByAttr:function(){return document.querySelector&&document.querySelectorAll?function(e,t,n){var t=t||document;return n?t.querySelector("["+e+"]"):t.querySelectorAll("["+e+"]")}:function(e,t,n){var t=t||document,r=[],i="*",s=t.getElementsByTagName(i),o=["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"];for(var u=0;u<s.length;u++)if(o.indexOf(e)>=0&&(s[u][e]!==undefined||s[u][e]===!0)||!o.indexOf(e)>=0&&s[u][e]!==undefined&&s[u][e]!==""){if(n)return s[u];r.push(s[u])}return r}}(),up:function(e,t,n){n=n||this;return t.apply(n,[e])?e:e.parentNode&&e.parentNode!==document?this.up(e.parentNode,t,n):!1},create:function(){if(!Object.create){function e(){}return function(t){if(arguments.length!=1)throw new Error("Object.create implementation only accepts one parameter.");e.prototype=t;return new e}}return Object.create}(),registerEventHandler:function(){if(document.addEventListener)return function(e,t,n){e.addEventListener(t,n,!1)};if(document.attachEvent)return function(e,t,n){e.attachEvent("on"+t,n)}}(),unregisterEventHandler:function(){if(document.addEventListener)return function(e,t,n){e.removeEventListener(t,n,!1)};if(document.attachEvent)return function(e,t,n){e.detachEvent("on"+t,n)}}(),addEvent:function(e,t,n,r){var i=function(e){return function(t){n.apply(this,[e.normaliseEvent(t||window.event),r])}}(this);this.registerEventHandler(e,t,i);return{node:e,type:t,callback:i}},removeEvent:function(e){this.unregisterEventHandler(e.node,e.type,e.callback)},normaliseEvent:function(e){if(!e.stopPropagation){e.stopPropagation=function(){this.cancelBubble=!0};e.preventDefault=function(){this.returnValue=!1}}e.stop||(e.stop=function(){this.stopPropagation();this.preventDefault()});e.srcElement&&!e.target&&(e.target=e.srcElement);return e},ajaxObject:function(){var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=!1;for(var n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}t=e[n];break}return t}(),ajax:function(e,t,n,r,i,s){var o=n?"POST":"GET",r=r||!0,u=this.ajaxObject(),i=i||window;if(!u)return;u.open(o,e,r);if(arguments.length>4)for(var a=4;a<arguments.length;a++)arguments[a][0]&&arguments[a][0]&&u.setRequestHeader(arguments[a][0],arguments[a][1]);n&&u.setRequestHeader("Content-type","application/x-www-form-urlencoded");u.onreadystatechange=function(){if(u.readyState!=4)return;if(u.status!=200&&u.status!=304)return;t.apply(i,[u,s])};if(u.readyState==4)return;u.send(n)},jsonpCallback:function(e){window.cbs=window.cbs||[];window.cbs.push(function(e,t){return function(n){var r=document.getElementById("jsonpScript_"+t);r.parentNode.removeChild(r);e(n)}}(e,window.cbs.length));return"window.cbs["+(window.cbs.length-1)+"]"},jsonp:function(e,t,n){var n=n||{},r=e+(e.indexOf("?")+1?"&":"?"),i=document.getElementsByTagName("head")[0],s=document.createElement("script"),o=[];n.callback=this.jsonpCallback(t);s.id="jsonpScript_"+(window.cbs.length-1);for(var u in n)o.push(u+"="+encodeURIComponent(n[u]));r+=o.join("&");s.type="text/javascript";s.src=r;i.appendChild(s)},scrollTop:function(e){if(e===window){if(typeof pageYOffset!="undefined")return pageYOffset;var t=document.body,n=document.documentElement;n=n.clientHeight?n:t;return n.scrollTop}return e.scrollTop}}});